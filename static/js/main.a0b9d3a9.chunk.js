(this["webpackJsonpwhich-frank"]=this["webpackJsonpwhich-frank"]||[]).push([[0],{17:function(e,t,a){e.exports=a(40)},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),i=a.n(c),s=a(1),u=a.n(s),o=a(5),l=a(4),m=a(2),p=[{snippet:"If it brings me to my knees, it's a bad religion",track_name:"Bad Religion",artist_name:"Frank Ocean",album_name:"Channel Orange",albumReleaseDate:"2012",id:0},{snippet:"Taxi driver, be my shrink for the hour",track_name:"Bad Religion",artist_name:"Frank Ocean",album_name:"Channel Orange",albumReleaseDate:"2012",id:1},{snippet:"Poolside convo, about your summer last night",track_name:"Self Control",artist_name:"Frank Ocean",album_name:"Blonde",albumReleaseDate:"2016",id:2},{snippet:"I might like immortality",track_name:"Pink + White",artist_name:"Frank Ocean",album_name:"Blonde",albumReleaseDate:"2016",id:3},{snippet:"You text nothing like you look",track_name:"Good Guy",artist_name:"Frank Ocean",album_name:"Blonde",albumReleaseDate:"2016",id:4},{snippet:"Each time I find myself flat on my face, I pick myself up and get back in the race",track_name:"That's Life",artist_name:"Frank Sinatra",album_name:"That's Life",albumReleaseDate:"1966",id:5},{snippet:"I get a kick out of you",track_name:"I Get A Kick Out Of You",artist_name:"Frank Sinatra",album_name:"Sinatra And Swingin' Brass",albumReleaseDate:"1962",id:6},{snippet:"I did it my way",track_name:"My Way",artist_name:"Frank Sinatra",album_name:"My Way",albumReleaseDate:"1969",id:7},{snippet:'And then I go and spoil it all by saying somethin\' stupid like "I love you"',track_name:"Somethin' Stupid",artist_name:"Frank Sinatra",album_name:"The World We Knew",albumReleaseDate:"1969",id:8},{snippet:"Fly me to the moon",track_name:"Fly Me to the Moon (In Other Words)",artist_name:"Frank Sinatra",album_name:"It Might as Well Be Swing",albumReleaseDate:"1964",id:9}],b=a(6),f=a.n(b),d="https://cors-anywhere.herokuapp.com/",k="https://api.musixmatch.com/ws/1.1/",g=function(){var e=Object(o.a)(u.a.mark((function e(t,a,n){var r,c,i,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="artist.search?q_artist=".concat(t,"&page_size=").concat(a),c="".concat(d).concat(k).concat(r).concat(n),e.next=4,f.a.get(c);case 4:return i=e.sent,console.log("getArtists -- axios.get result:",i),s=i.data.message.body,e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),h=function(e){var t=e.artist_list;return console.log("artist_list",t),t.map((function(e){return{artist_name:e.artist.artist_name,artist_id:e.artist.artist_id}}))},y=function(){var e=Object(o.a)(u.a.mark((function e(t,a,n){var r,c,i,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="track.search?q_artist=".concat(t),c="&page_size=".concat(a,"&s_track_rating=desc"),i="".concat(d).concat(k).concat(r).concat(c).concat(n),e.next=5,f.a.get(i);case 5:return s=e.sent,o=s.data.message.body,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(o.a)(u.a.mark((function e(t,a,n){var r,c,i,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],c=0;case 2:if(!(c<t.length)){e.next=12;break}return i=t[c].artist_name,e.next=6,y(i,a,n);case 6:s=e.sent,o=s.track_list.map((function(e){return{track_name:e.track.track_name,track_id:e.track.track_id,album_name:e.track.album_name,album_id:e.track.album_id,has_lyrics:e.track.has_lyrics,explicit:e.track.explicit}})),r=[].concat(Object(l.a)(r),Object(l.a)(o));case 9:c++,e.next=2;break;case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),_=function(){var e=Object(o.a)(u.a.mark((function e(t,a){var n,r,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="track.snippet.get?track_id=".concat(t),r="".concat(d).concat(k).concat(n).concat(a),e.next=4,f.a.get(r);case 4:return c=e.sent,i=c.data.message.body,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),O=function(){var e=Object(o.a)(u.a.mark((function e(t,a){var n,r,c,i,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=0;case 2:if(!(r<t.length)){e.next=13;break}return c=t[r],i=c.track_id,e.next=7,_(i,a);case 7:s=e.sent,o=(u=s).snippet&&u.snippet.snippet_body?{snippet:u.snippet.snippet_body,snippet_language:u.snippet.snippet_language}:{snippet:null,snippet_language:null},n=[].concat(Object(l.a)(n),[o]);case 10:r++,e.next=2;break;case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}var u}),e)})));return function(t,a){return e.apply(this,arguments)}}(),j=function(e,t){for(var a=[],n=0;n<e.length;n++)for(var r=e[n].artist_name,c=e[n].artist_id,i=0;i<t;i++)a=a.concat({artist_name:r,artist_id:c,track_name:"",track_id:"",album_name:"",album_id:"",has_lyrics:"",explicit:""});return a},S=function(e,t){if(e.length!==t.length)return e;for(var a=0;a<e.length;a++)e[a].track_name=t[a].track_name,e[a].track_id=t[a].track_id,e[a].album_name=t[a].album_name,e[a].album_id=t[a].album_id,e[a].has_lyrics=t[a].has_lyrics,e[a].explicit=t[a].explicit;return e},E=function(e,t){for(var a=0;a<e.length;a++)e[a].snippet=t[a].snippet,e[a].snippet_language=t[a].snippet_language;return e},x=function(e,t){var a=Object(l.a)(e);return a.map((function(e){return null===e.snippet&&(e.snippet=e.track_name),e}))},P=function(){var e=Object(o.a)(u.a.mark((function e(t,a,n){var r,c,i,s,o,m,p,b,f,d,k,y,_,P=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=P.length>3&&void 0!==P[3]?P[3]:1,c=[],i=-1,i=1===t.length?r:1,e.prev=4,s=0;case 6:if(!(s<t.length)){e.next=27;break}return o=t[s],e.next=10,g(o,i,n);case 10:return m=e.sent,console.log("artists",m),p=h(m),b=j(p,a),e.next=16,v(p,a,n);case 16:return f=e.sent,d=S(b,f),e.next=20,O(f,n);case 20:k=e.sent,y=E(d,k),_=x(y),c=[].concat(Object(l.a)(c),Object(l.a)(_));case 24:s++,e.next=6;break;case 27:return console.log(c),e.abrupt("return",c);case 31:return e.prev=31,e.t0=e.catch(4),console.log("error fetching data from Musixmatch \n",e.t0),e.abrupt("return",[]);case 35:case"end":return e.stop()}}),e,null,[[4,31]])})));return function(t,a,n){return e.apply(this,arguments)}}(),w=function(e,t){var a=[];return e.forEach((function(e){var n=e[t];a.includes(n)||a.push(n)})),a},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=e,n=t;if(a<n){var r=[n,a];a=r[0],n=r[1]}var c=Math.floor(Math.random()*(a-n)+n);return c},F=function(e){var t=function(e){return Number.isInteger(e)&&e>0?Object(l.a)(Array(e).keys()):[]}(e),a=t.length;if(0===a)return[];if(1===a)return t;for(var n=Object(l.a)(t),r=a;r>0;r-=1){var c=A(r),i=n[r-1];n[r-1]=n[c],n[c]=i}return n},I=function(e,t){if(e.length!==t.length)return e;for(var a=[],n=0,r=t.length;n<r;n+=1)a.push(e[t[n]]);return a},C=function(){return r.a.createElement("div",{className:"Loading"},"...loading")},R=function(e){return e.isDisabled?r.a.createElement("div",{className:"Home"},r.a.createElement("button",{type:"button",onClick:function(){return e.setPage("game")},disabled:!0},"loading...")):r.a.createElement("div",{className:"Home"},r.a.createElement("button",{type:"button",onClick:function(){return e.setPage("APIKeyForm")}},"Let's Play!"))},D=function(e){var t=Object(n.useState)({}),a=Object(m.a)(t,2),c=a[0],i=a[1],s=Object(n.useState)(e.score.length),u=Object(m.a)(s,2),o=u[0],p=u[1],b=function(t){e.setScore([].concat(Object(l.a)(e.score),[t]))};return Object(n.useEffect)((function(){e.allLyrics.length>0&&i(e.allLyrics[0])}),[e.allLyrics]),r.a.createElement("div",{className:"Game"},r.a.createElement("div",{className:"ActiveLyric"},r.a.createElement("p",null,"Lyric ".concat(o+1," of ").concat(e.allLyrics.length)),r.a.createElement("p",null,c.snippet)),e.allArtists.map((function(t){return r.a.createElement("button",{type:"submit",key:t,onClick:function(){return function(t){t===c.artist_name?b(1):b(0);var a=o+1;a===e.allLyrics.length?e.setPage("score"):(p(a),i(e.allLyrics[a]))}(t)}},t)})))},L=function(e){var t=function(t){e.setPage(t),e.setScore([]),e.reshuffleLyrics(),e.setDisablePlayButton(!1)};return r.a.createElement("div",{className:"Score"},r.a.createElement("p",null,function(e){var t,a=0===(t=e).length?0:t.reduce((function(e,t){return e+t})),n=e.length;return"You scored ".concat(a," out of ").concat(n)}(e.score)),r.a.createElement("button",{type:"button",onClick:function(){return t("home")}},"Home"),r.a.createElement("button",{type:"button",onClick:function(){return t("game")}},"Play Again"))},B=function(e){var t,a=Object(n.useState)(!0),c=Object(m.a)(a,2),i=c[0],s=c[1],u=Object(n.useState)(""),o=Object(m.a)(u,2),l=o[0],p=o[1],b=Object(n.useState)(!1),f=Object(m.a)(b,2),d=f[0],k=f[1],g=function(t){e.setArtistsQuery(t)};return r.a.createElement("div",{className:"APIKeyForm"},i&&r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.setAPI_KEY(l),p(""),s(!1),k(!0)}},r.a.createElement("label",null,"musixmatch developer API Key",r.a.createElement("input",{type:"text",value:l,onChange:function(e){p(e.target.value)}}),r.a.createElement("input",{type:"submit",value:"Set Key"}))),function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!e||t||i?t&&t&&!i?r.a.createElement("div",{className:"artistQueries"},r.a.createElement("button",{disabled:!0,onClick:function(){return g(["Frank Ocean","Frank Sinatra"])}},"Frank Ocean vs Frank Sinatra"),r.a.createElement("button",{disabled:!0,onClick:function(){return g(["21 Savage","Twenty One Pilots"])}},"21 Savage vs Twenty One Pilots"),r.a.createElement("button",{disabled:!0,onClick:function(){return g(["ASAP Rocky","Travis Scott"])}},"A$AP Rocky vs Travis Scott")):void 0:r.a.createElement("div",{className:"artistQueries"},r.a.createElement("button",{onClick:function(){return g(["Frank Ocean","Frank Sinatra"])}},"Frank Ocean vs Frank Sinatra"),r.a.createElement("button",{onClick:function(){return g(["21 Savage","Twenty One Pilots"])}},"21 Savage vs Twenty One Pilots"),r.a.createElement("button",{onClick:function(){return g(["ASAP Rocky","Travis Scott"])}},"A$AP Rocky vs Travis Scott"))}(e.displayQueries,e.disablePlayButton),e.artistsQuery&&(t=e.artistsQuery,r.a.createElement("div",null,t[0]," vs ",t[1])),d&&(e.disablePlayButton?r.a.createElement("button",{type:"button",onClick:function(){return e.setPage("game")},disabled:!0},"loading data from API..."):r.a.createElement("button",{type:"button",onClick:function(){return e.setPage("game")}},"Play with Musixmatch lyrics")),r.a.createElement("button",{type:"button",onClick:function(){return e.setPage("game")}},"Play with default lyrics"))},T=function(){var e=Object(n.useState)("home"),t=Object(m.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)([]),s=Object(m.a)(i,2),l=s[0],b=s[1],f=Object(n.useState)([]),d=Object(m.a)(f,2),k=d[0],g=d[1],h=Object(n.useState)([]),y=Object(m.a)(h,2),v=y[0],_=y[1],O=Object(n.useState)([]),j=Object(m.a)(O,2),S=j[0],E=j[1],x=Object(n.useState)(!1),A=Object(m.a)(x,2),T=A[0],N=A[1],M=Object(n.useState)(""),K=Object(m.a)(M,2),Q=K[0],W=K[1],Y=Object(n.useState)(["Frank Sinatra","Frank Ocean"]),G=Object(m.a)(Y,2),H=G[0],$=G[1],q=Object(n.useState)(!1),z=Object(m.a)(q,2),J=z[0],U=z[1],V=Object(n.useState)(null),X=Object(m.a)(V,2),Z=X[0],ee=X[1],te=function(e){ee("&apikey=".concat(e))},ae=function(){var e=F(l.length),t=I(l,e);g(t)};return Object(n.useEffect)((function(){var e=[];(function(){var t=Object(o.a)(u.a.mark((function t(){var a,n,r,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(N(!0),!Z){t.next=14;break}return U(!0),console.log("using online lyrics"),t.next=6,P(H,5,Z);case 6:if(0!==(e=t.sent).length){t.next=12;break}return W("Failed to retireve data from Musixmatch. Using local lyrics instead."),setTimeout((function(){return W("")}),5e3),e=p,t.abrupt("return");case 12:t.next=15;break;case 14:e=p;case 15:(a=e.length)>0&&(b(e),n=F(a),r=I(e,n),g(r),c=w(e,"artist_name"),_(c)),N(!1);case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[Z,H]),r.a.createElement("div",{className:"App"},r.a.createElement("p",null,a),r.a.createElement("p",null,Q),function(){switch(a){case"loading":return r.a.createElement(C,{setPage:c});case"home":return r.a.createElement(R,{setPage:c,isDisabled:T});case"APIKeyForm":return r.a.createElement(B,{setAPI_KEY:te,setPage:c,setArtistsQuery:$,disablePlayButton:T,artistsQuery:H,displayQueries:J});case"game":return r.a.createElement(D,{setPage:c,score:S,setScore:E,allLyrics:k,allArtists:v});case"score":return r.a.createElement(L,{setPage:c,score:S,setScore:E,setDisablePlayButton:N,reshuffleLyrics:ae});default:return null}}())};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[17,1,2]]]);
//# sourceMappingURL=main.a0b9d3a9.chunk.js.map